
<html>
<head>
	<title>To Do App</title>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-7s5uDGW3AHqw6xtJmNNtr+OBRJUlgkNJEo78P4b0yRw= sha512-nNo+yCHEyn0smMxSswnf/OnX6/KwJuZTlNZBjauKhTK0c+zT+q5JOCx0UFhXQ6rJR9jg6Es8gPuD2uZcYDLqSw==" crossorigin="anonymous">

	<style>
	hr {
		height: 2px;
    background-color:#555;
    margin-top: 20px;
    margin-bottom: 20px;
    width: 85%;
	}
	.table-striped>tbody>tr:nth-child(odd)>td, 
	.table-striped>tbody>tr:nth-child(odd)>th {
   	background-color: #FFEBCD;
 	}
 	h1 {
 		background-color: #D2691E;
 	}
 	.form {
 		background-color: #F5F5DC;
 	}

	</style>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-xs-12">
				<h1>This is a todo list</h1>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12">
				<form role="form" class="form" name="new-item">
					<div class="form-group"
						<label for="Content">Item</label>
						<input type="text" id="content" placeholder="Item"></input>
					</div>
					<div class="form-group"
						<label for="Priority">Priority</label>
						<input type="text" id="priority">
					</div>
					<div class="form-group"					
						<label for="Due Date">Due Date</label>
						<input type="date" id="due_date" placeholder="Date"></input>
					</div>
					<div class="form-group">
						<button id="btn-new-item">New</button>
						<button id="btn-show-items">Show</button>
					</div>
					<hr>
					<!-- sort by button -->
<!-- 
					<div class="form-group">
						<label for="sort_by">Sort by:</label>
						<button id="btn-sort-content">Content</button>
						<button id="btn-sort-priority">Priority</button>
						<button id="btn-sort-due-date">Due Date</button>
					</div> -->

					<!-- sort by dropdown -->

					<div class="dropdown">
						<label for="dropdown">Sort by:</label>
					  	<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
					    <span class="caret"></span>
					  	</button>
					  	<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
					    	<li><a href="#" id="sort-content">Content</a></li>
					    	<li><a href="#" id="sort-priority">Priority</a></li>
					    	<li><a href="#" id="sort-due-date">Due Date</a></li>
					    	

					  	</ul>
					</div>

				</form>
			</div>
		</div>

				<table class="table table-striped" id="products">
			    <thead class="thead-inverse">
			        <tr>
			        	<th scope="row">ID</th>	
			            <th scope="row">Item</th>
			            <th scope="row">Priority</th>
			            <th scope="row">Due Date</th>
			            <th scope="row">Completed</th>
			            <!-- <th <span class="btn btn-danger"onclick="completeItem(id):">Complete</span></th> -->
			         <!--    <th>Categories</th> -->
			        </tr>
			    </thead>
		    <tbody id="insertProducts"></tbody>
			</table>

	</div>
<script src="https://code.jquery.com/jquery-2.2.0.min.js"type="text/javascript"></script>
<script src="https://cdn.firebase.com/js/client/2.4.0/firebase.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo= sha512-2e8qq0ETcfWRI4HJBzQiA3UoyFk6tbNyG+qSaIBZLyW9Xf3sWZHN/lxe9fTh1U45DpPf07yj94KsUHHWe4Yk1A==" crossorigin="anonymous"></script>
<script type="text/javascript" src="todo.js"></script>
<script src="js/moment.js"></script>
<script>

    var fireDB = new Firebase("https://balboa-sample-app-1.firebaseio.com/");

    // fireDB.on("value", function(snapshot){
    // 	console.log(snapshot.val());
    // });


    //  fireDB.child("todo-items").on("value", function(snapshot){
    // 	console.log(snapshot.val());
    // });

     fireDB.child("to-do").on("value", function(snapshot){
    	console.table(snapshot.val());
    });

/////update item on Firebase

     fireDB.child("to-do").on("value", function(snapshot){
    	console.table(snapshot.val());

    	$("#item-list").html(" ");

	snapshot.forEach(function(){
		console.log(data.val());

		addItemToList(data);

	});
});

///add item to firebase


$(document).ready(function(){
	$("#new-item-form").submit (function(e){

	})

	fireDB.child("to-do").push(item);

	this.reset();
})


///////remove items


$("item-list").on("click", "del-btn",function(){
	var id = $(this).data("id");

	console.log(id);

	fireDB("to-do").child(id).remove();

	////also 
	fireDB("to-to/" + id).remove();

});





var addItemToList = function(item){
	var $li = $ ("<li>").addClass("container-fluid").text(item.val().content + " ");
	var $delBtn = $("<button>").text ("delete").data("id",item.key());
	$delBtn.addClass("btn btn-xs btn danger del-dtn");

	};

// 	switch (item.val().priority) {
// 	case 1
// 	case "1";
// 		$li.addClass('lowest'):
// 		break;
// 		case 2
// 	case "2";
// 		$li.addClass('low'):
// 		break;
// 	}
// }


</script>
</body>
</html>





